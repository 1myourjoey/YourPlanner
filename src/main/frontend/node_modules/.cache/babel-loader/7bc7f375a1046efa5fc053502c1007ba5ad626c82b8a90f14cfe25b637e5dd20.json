{"ast":null,"code":"import React,{useState}from'react';import{useLocation}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function MyPlanDetail(){const{state}=useLocation();const[plan,setPlan]=useState(state&&state.plan);const[newTodo,setNewTodo]=useState('');const handleUpdateTodo=async()=>{try{await axios.put(\"/api/users/\".concat(plan.saveNo,\"/todo\"),{todo:newTodo});// 새로운 할일을 업데이트한 후에 즉시 UI에 반영\nsetPlan({...plan,todo:newTodo});}catch(error){console.error('할일 업데이트 실패:',error);// 실패 시 필요한 처리\n}};return/*#__PURE__*/_jsxs(\"div\",{className:\"travel-plan-details\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uB098\\uC758 \\uC5EC\\uD589 \\uACC4\\uD68D \\uC0C1\\uC138\"}),plan&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"plan-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uC800\\uC7A5 \\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"p\",{children:plan.saveTitle})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"plan-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uC5EC\\uD589 \\uC2DC\\uC791 \\uB0A0\\uC9DC\"}),/*#__PURE__*/_jsx(\"p\",{children:plan.firstDate})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"plan-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uC5EC\\uD589 \\uC885\\uB8CC \\uB0A0\\uC9DC\"}),/*#__PURE__*/_jsx(\"p\",{children:plan.endDate})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"plan-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uCD9C\\uBC1C\\uC9C0\"}),/*#__PURE__*/_jsx(\"p\",{children:plan.firstPlace})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"plan-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uB3C4\\uCC29\\uC9C0\"}),/*#__PURE__*/_jsx(\"p\",{children:plan.endPlace})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"plan-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD560\\uC77C\"}),/*#__PURE__*/_jsx(\"p\",{children:plan.todo}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newTodo,onChange:e=>setNewTodo(e.target.value),placeholder:\"\\uC0C8\\uB85C\\uC6B4 \\uD560\\uC77C \\uC785\\uB825\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpdateTodo,children:\"\\uC785\\uB825\"})]})]})]});}export default MyPlanDetail;","map":{"version":3,"names":["React","useState","useLocation","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MyPlanDetail","state","plan","setPlan","newTodo","setNewTodo","handleUpdateTodo","put","concat","saveNo","todo","error","console","className","children","saveTitle","firstDate","endDate","firstPlace","endPlace","type","value","onChange","e","target","placeholder","onClick"],"sources":["C:/Users/윤기섭/Documents/GitHub/YourPlanner/src/main/frontend/src/components/js/MyPlanDetail.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\n\r\nfunction MyPlanDetail() {\r\n  const { state } = useLocation();\r\n  const [plan, setPlan] = useState(state && state.plan);\r\n  const [newTodo, setNewTodo] = useState('');\r\n\r\n  const handleUpdateTodo = async () => {\r\n    try {\r\n      await axios.put(`/api/users/${plan.saveNo}/todo`, { todo: newTodo });\r\n      // 새로운 할일을 업데이트한 후에 즉시 UI에 반영\r\n      setPlan({ ...plan, todo: newTodo });\r\n    } catch (error) {\r\n      console.error('할일 업데이트 실패:', error);\r\n      // 실패 시 필요한 처리\r\n    }\r\n  };\r\n\r\n  return (\r\n\r\n    <div className=\"travel-plan-details\">\r\n\r\n      <h2>나의 여행 계획 상세</h2>\r\n      {plan && (\r\n        <>\r\n          <div className=\"plan-section\">\r\n            <h3>저장 제목</h3>\r\n            <p>{plan.saveTitle}</p>\r\n          </div>\r\n          <div className=\"plan-section\">\r\n            <h3>여행 시작 날짜</h3>\r\n            <p>{plan.firstDate}</p>\r\n          </div>\r\n          <div className=\"plan-section\">\r\n            <h3>여행 종료 날짜</h3>\r\n            <p>{plan.endDate}</p>\r\n          </div>\r\n          <div className=\"plan-section\">\r\n            <h3>출발지</h3>\r\n            <p>{plan.firstPlace}</p>\r\n          </div>\r\n          <div className=\"plan-section\">\r\n            <h3>도착지</h3>\r\n            <p>{plan.endPlace}</p>\r\n          </div>\r\n          <div className=\"plan-section\">\r\n            <h3>할일</h3>\r\n            <p>{plan.todo}</p>\r\n            <input\r\n              type=\"text\"\r\n              value={newTodo}\r\n              onChange={(e) => setNewTodo(e.target.value)}\r\n              placeholder=\"새로운 할일 입력\"\r\n            />\r\n            <button onClick={handleUpdateTodo}>입력</button>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyPlanDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}