{"ast":null,"code":"import React from'react';import'../css/RecommendedPlaces.css';import LoadMoreButton from'./LoadMoreButton';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RecommendedPlaces=_ref=>{let{data,loadMore,loading,view,selectedItems,setSelectedItems}=_ref;const handleAddClick=item=>{var _selectedItems$catego;let category;switch(item.contenttypeid){case'12':category='attractions';break;case'32':category='hotels';break;case'39':category='restaurants';break;default:return;}// Ensure the category array exists\nif(!selectedItems[category]){setSelectedItems(prevState=>({...prevState,[category]:[]}));}// Check if the item already exists in the category array\nconst existingItem=(_selectedItems$catego=selectedItems[category])===null||_selectedItems$catego===void 0?void 0:_selectedItems$catego.find(selectedItem=>selectedItem.contentid===item.contentid);if(!existingItem){const newItem={...item,uniqueId:Date.now()+Math.random().toString(36).substr(2,9)};setSelectedItems(prevState=>({...prevState,[category]:[...(prevState[category]||[]),newItem]}));}};const handleRemoveClick=(contentid,category)=>{setSelectedItems(prevState=>({...prevState,[category]:prevState[category].filter(item=>item.contentid!==contentid)}));};const isItemSelected=(contentid,category)=>{return selectedItems[category]&&selectedItems[category].some(item=>item.contentid===contentid);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-container\",children:data.map((item,index)=>{let category;switch(item.contenttypeid){case'12':category='attractions';break;case'32':category='hotels';break;case'39':category='restaurants';break;default:return null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:item.title}),/*#__PURE__*/_jsx(\"p\",{children:item.addr1}),/*#__PURE__*/_jsx(\"img\",{src:item.firstimage2||'https://via.placeholder.com/300x200?text=No+Image',alt:item.title,className:\"hotel-image\"}),isItemSelected(item.contentid,category)?/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveClick(item.contentid,category),children:\"\\uCCB4\\uD06C\"}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAddClick(item),children:\"\\uCD94\\uAC00\"})]},item.contentid+index);})}),/*#__PURE__*/_jsx(LoadMoreButton,{loadMore:loadMore,loading:loading}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Selected Attractions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"selected-items\",children:selectedItems.attractions&&selectedItems.attractions.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:item.title}),/*#__PURE__*/_jsx(\"p\",{children:item.addr1}),/*#__PURE__*/_jsx(\"img\",{src:item.firstimage2||'https://via.placeholder.com/300x200?text=No+Image',alt:item.title,className:\"selected-image\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveClick(item.contentid,'attractions'),children:\"\\uC0AD\\uC81C\"})]},item.uniqueId))}),/*#__PURE__*/_jsx(\"h1\",{children:\"Selected Hotels\"}),/*#__PURE__*/_jsx(\"div\",{className:\"selected-items\",children:selectedItems.hotels&&selectedItems.hotels.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:item.title}),/*#__PURE__*/_jsx(\"p\",{children:item.addr1}),/*#__PURE__*/_jsx(\"img\",{src:item.firstimage2||'https://via.placeholder.com/300x200?text=No+Image',alt:item.title,className:\"selected-image\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveClick(item.contentid,'hotels'),children:\"\\uC0AD\\uC81C\"})]},item.uniqueId))}),/*#__PURE__*/_jsx(\"h1\",{children:\"Selected Restaurants\"}),/*#__PURE__*/_jsx(\"div\",{className:\"selected-items\",children:selectedItems.restaurants&&selectedItems.restaurants.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:item.title}),/*#__PURE__*/_jsx(\"p\",{children:item.addr1}),/*#__PURE__*/_jsx(\"img\",{src:item.firstimage2||'https://via.placeholder.com/300x200?text=No+Image',alt:item.title,className:\"selected-image\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveClick(item.contentid,'restaurants'),children:\"\\uC0AD\\uC81C\"})]},item.uniqueId))})]})]});};export default RecommendedPlaces;","map":{"version":3,"names":["React","LoadMoreButton","jsx","_jsx","jsxs","_jsxs","RecommendedPlaces","_ref","data","loadMore","loading","view","selectedItems","setSelectedItems","handleAddClick","item","_selectedItems$catego","category","contenttypeid","prevState","existingItem","find","selectedItem","contentid","newItem","uniqueId","Date","now","Math","random","toString","substr","handleRemoveClick","filter","isItemSelected","some","children","className","map","index","title","addr1","src","firstimage2","alt","onClick","attractions","hotels","restaurants"],"sources":["C:/Users/admin/Documents/GitHub/YourPlanner/src/main/frontend/src/components/js/RecommendedPlaces.jsx"],"sourcesContent":["import React from 'react';\r\nimport '../css/RecommendedPlaces.css';\r\nimport LoadMoreButton from './LoadMoreButton';\r\n\r\nconst RecommendedPlaces = ({ data, loadMore, loading, view, selectedItems, setSelectedItems }) => {\r\n\r\n  const handleAddClick = (item) => {\r\n    let category;\r\n    switch (item.contenttypeid) {\r\n      case '12':\r\n        category = 'attractions';\r\n        break;\r\n      case '32':\r\n        category = 'hotels';\r\n        break;\r\n      case '39':\r\n        category = 'restaurants';\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n\r\n    // Ensure the category array exists\r\n    if (!selectedItems[category]) {\r\n      setSelectedItems(prevState => ({\r\n        ...prevState,\r\n        [category]: []\r\n      }));\r\n    }\r\n\r\n    // Check if the item already exists in the category array\r\n    const existingItem = selectedItems[category]?.find(selectedItem => selectedItem.contentid === item.contentid);\r\n    if (!existingItem) {\r\n      const newItem = { ...item, uniqueId: Date.now() + Math.random().toString(36).substr(2, 9) };\r\n      setSelectedItems(prevState => ({\r\n        ...prevState,\r\n        [category]: [...(prevState[category] || []), newItem]\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleRemoveClick = (contentid, category) => {\r\n    setSelectedItems(prevState => ({\r\n      ...prevState,\r\n      [category]: prevState[category].filter(item => item.contentid !== contentid)\r\n    }));\r\n  };\r\n\r\n  const isItemSelected = (contentid, category) => {\r\n    return selectedItems[category] && selectedItems[category].some(item => item.contentid === contentid);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"card-container\">\r\n        {data.map((item, index) => {\r\n          let category;\r\n          switch (item.contenttypeid) {\r\n            case '12':\r\n              category = 'attractions';\r\n              break;\r\n            case '32':\r\n              category = 'hotels';\r\n              break;\r\n            case '39':\r\n              category = 'restaurants';\r\n              break;\r\n            default:\r\n              return null;\r\n          }\r\n          return (\r\n            <div key={item.contentid + index} className=\"card\">\r\n              <h2>{item.title}</h2>\r\n              <p>{item.addr1}</p>\r\n              <img\r\n                src={item.firstimage2 || 'https://via.placeholder.com/300x200?text=No+Image'}\r\n                alt={item.title}\r\n                className=\"hotel-image\"\r\n              />\r\n              {isItemSelected(item.contentid, category) ? (\r\n                <button onClick={() => handleRemoveClick(item.contentid, category)}>체크</button>\r\n              ) : (\r\n                <button onClick={() => handleAddClick(item)}>추가</button>\r\n              )}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      <LoadMoreButton loadMore={loadMore} loading={loading} />\r\n      <div>\r\n        <h1>Selected Attractions</h1>\r\n        <div className=\"selected-items\">\r\n          {selectedItems.attractions && selectedItems.attractions.map((item) => (\r\n            <div key={item.uniqueId} className=\"card\">\r\n              <h2>{item.title}</h2>\r\n              <p>{item.addr1}</p>\r\n              <img\r\n                src={item.firstimage2 || 'https://via.placeholder.com/300x200?text=No+Image'}\r\n                alt={item.title}\r\n                className=\"selected-image\"\r\n              />\r\n              <button onClick={() => handleRemoveClick(item.contentid, 'attractions')}>삭제</button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <h1>Selected Hotels</h1>\r\n        <div className=\"selected-items\">\r\n          {selectedItems.hotels && selectedItems.hotels.map((item) => (\r\n            <div key={item.uniqueId} className=\"card\">\r\n              <h2>{item.title}</h2>\r\n              <p>{item.addr1}</p>\r\n              <img\r\n                src={item.firstimage2 || 'https://via.placeholder.com/300x200?text=No+Image'}\r\n                alt={item.title}\r\n                className=\"selected-image\"\r\n              />\r\n              <button onClick={() => handleRemoveClick(item.contentid, 'hotels')}>삭제</button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <h1>Selected Restaurants</h1>\r\n        <div className=\"selected-items\">\r\n          {selectedItems.restaurants && selectedItems.restaurants.map((item) => (\r\n            <div key={item.uniqueId} className=\"card\">\r\n              <h2>{item.title}</h2>\r\n              <p>{item.addr1}</p>\r\n              <img\r\n                src={item.firstimage2 || 'https://via.placeholder.com/300x200?text=No+Image'}\r\n                alt={item.title}\r\n                className=\"selected-image\"\r\n              />\r\n              <button onClick={() => handleRemoveClick(item.contentid, 'restaurants')}>삭제</button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RecommendedPlaces;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}