{"ast":null,"code":"import React,{useState,useEffect}from'react';import'../css/ListComponent.css';import RecommendedPlaces from'./RecommendedPlaces';import{jsx as _jsx}from\"react/jsx-runtime\";const DummyListHotel=_ref=>{let{areaCode,sigunguCode,addData,setLoading}=_ref;const[data,setData]=useState([]);const[page,setPage]=useState(1);// 페이지 번호 상태\n// 초기 로딩 시 데이터를 가져오는 함수\nconst fetchInitialData=async()=>{try{setLoading(true);// 로딩 상태 시작\nconst response=await fetch(\"http://apis.data.go.kr/B551011/KorService1/areaBasedList1?serviceKey=5uJ1mFn4tOfEwReTW3dupjd4w2n5kEHO5nciT%2BDVGAVWTl90sysBKbMTIlIxLW5lCPo1VmpZ%2FXggxU84GhG81g%3D%3D&pageNo=1&numOfRows=10&MobileApp=AppTest&MobileOS=ETC&arrange=A&areaCode=\".concat(areaCode,\"&contentTypeId=32\"));if(!response.ok){throw new Error('Network response was not ok');}const responseData=await response.text();// XML 데이터를 텍스트로 가져옴\nconst parser=new DOMParser();const xmlData=parser.parseFromString(responseData,'text/xml');const items=xmlData.getElementsByTagName('item');const extractedData=Array.from(items).map(item=>{var _item$getElementsByTa;return{title:item.getElementsByTagName('title')[0].textContent,addr1:item.getElementsByTagName('addr1')[0].textContent,contenttypeid:item.getElementsByTagName('contenttypeid')[0].textContent,firstimage2:((_item$getElementsByTa=item.getElementsByTagName('firstimage2')[0])===null||_item$getElementsByTa===void 0?void 0:_item$getElementsByTa.textContent)||''};});setData(extractedData);// 초기 데이터 설정\n}catch(error){console.error('Error fetching data:',error);}finally{setLoading(false);// 로딩 상태 종료\n}};// 더보기 버튼 클릭 시 데이터를 가져오는 함수\nconst fetchMoreData=async pageNumber=>{try{setLoading(true);// 로딩 상태 시작\nconst response=await fetch(\"http://apis.data.go.kr/B551011/KorService1/areaBasedList1?serviceKey=5uJ1mFn4tOfEwReTW3dupjd4w2n5kEHO5nciT%2BDVGAVWTl90sysBKbMTIlIxLW5lCPo1VmpZ%2FXggxU84GhG81g%3D%3D&pageNo=\".concat(pageNumber,\"&numOfRows=10&MobileApp=AppTest&MobileOS=ETC&arrange=A&areaCode=\").concat(areaCode,\"&contentTypeId=32\"));if(!response.ok){throw new Error('Network response was not ok');}const responseData=await response.text();// XML 데이터를 텍스트로 가져옴\nconst parser=new DOMParser();const xmlData=parser.parseFromString(responseData,'text/xml');const items=xmlData.getElementsByTagName('item');const extractedData=Array.from(items).map(item=>{var _item$getElementsByTa2;return{title:item.getElementsByTagName('title')[0].textContent,addr1:item.getElementsByTagName('addr1')[0].textContent,contenttypeid:item.getElementsByTagName('contenttypeid')[0].textContent,firstimage2:((_item$getElementsByTa2=item.getElementsByTagName('firstimage2')[0])===null||_item$getElementsByTa2===void 0?void 0:_item$getElementsByTa2.textContent)||''};});setData(prevData=>[...prevData,...extractedData]);// 새로운 데이터를 기존 데이터에 추가\n}catch(error){console.error('Error fetching data:',error);}finally{setLoading(false);// 로딩 상태 종료\n}};useEffect(()=>{fetchInitialData();// 초기 로딩 시 데이터 가져오기\n},[areaCode]);useEffect(()=>{if(page>1){fetchMoreData(page);// 페이지가 변경될 때만 더 많은 데이터를 가져옴\n}},[page]);const loadMore=()=>{setPage(prevPage=>prevPage+1);// 페이지 번호 증가\n};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(RecommendedPlaces,{data:data})});};export default DummyListHotel;","map":{"version":3,"names":["React","useState","useEffect","RecommendedPlaces","jsx","_jsx","DummyListHotel","_ref","areaCode","sigunguCode","addData","setLoading","data","setData","page","setPage","fetchInitialData","response","fetch","concat","ok","Error","responseData","text","parser","DOMParser","xmlData","parseFromString","items","getElementsByTagName","extractedData","Array","from","map","item","_item$getElementsByTa","title","textContent","addr1","contenttypeid","firstimage2","error","console","fetchMoreData","pageNumber","_item$getElementsByTa2","prevData","loadMore","prevPage","children"],"sources":["C:/Users/윤기섭/Documents/GitHub/YourPlanner/src/main/frontend/src/components/js/DummyListHotel.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport '../css/ListComponent.css';\r\n\r\n\r\nimport RecommendedPlaces from './RecommendedPlaces';\r\n\r\nconst DummyListHotel = ({ areaCode, sigunguCode, addData, setLoading }) => {\r\n    const [data, setData] = useState([]);\r\n    const [page, setPage] = useState(1); // 페이지 번호 상태\r\n\r\n    // 초기 로딩 시 데이터를 가져오는 함수\r\n    const fetchInitialData = async () => {\r\n        try {\r\n            setLoading(true); // 로딩 상태 시작\r\n            const response = await fetch(`http://apis.data.go.kr/B551011/KorService1/areaBasedList1?serviceKey=5uJ1mFn4tOfEwReTW3dupjd4w2n5kEHO5nciT%2BDVGAVWTl90sysBKbMTIlIxLW5lCPo1VmpZ%2FXggxU84GhG81g%3D%3D&pageNo=1&numOfRows=10&MobileApp=AppTest&MobileOS=ETC&arrange=A&areaCode=${areaCode}&contentTypeId=32`);\r\n            if (!response.ok) {\r\n                throw new Error('Network response was not ok');\r\n            }\r\n            const responseData = await response.text(); // XML 데이터를 텍스트로 가져옴\r\n            const parser = new DOMParser();\r\n            const xmlData = parser.parseFromString(responseData, 'text/xml');\r\n            const items = xmlData.getElementsByTagName('item');\r\n            const extractedData = Array.from(items).map(item => ({\r\n                title: item.getElementsByTagName('title')[0].textContent,\r\n                addr1: item.getElementsByTagName('addr1')[0].textContent,\r\n                contenttypeid: item.getElementsByTagName('contenttypeid')[0].textContent,\r\n                firstimage2: item.getElementsByTagName('firstimage2')[0]?.textContent || ''\r\n            }));\r\n            setData(extractedData); // 초기 데이터 설정\r\n        } catch (error) {\r\n            console.error('Error fetching data:', error);\r\n        } finally {\r\n            setLoading(false); // 로딩 상태 종료\r\n        }\r\n    };\r\n\r\n    // 더보기 버튼 클릭 시 데이터를 가져오는 함수\r\n    const fetchMoreData = async (pageNumber) => {\r\n        try {\r\n            setLoading(true); // 로딩 상태 시작\r\n            const response = await fetch(`http://apis.data.go.kr/B551011/KorService1/areaBasedList1?serviceKey=5uJ1mFn4tOfEwReTW3dupjd4w2n5kEHO5nciT%2BDVGAVWTl90sysBKbMTIlIxLW5lCPo1VmpZ%2FXggxU84GhG81g%3D%3D&pageNo=${pageNumber}&numOfRows=10&MobileApp=AppTest&MobileOS=ETC&arrange=A&areaCode=${areaCode}&contentTypeId=32`);\r\n            if (!response.ok) {\r\n                throw new Error('Network response was not ok');\r\n            }\r\n            const responseData = await response.text(); // XML 데이터를 텍스트로 가져옴\r\n            const parser = new DOMParser();\r\n            const xmlData = parser.parseFromString(responseData, 'text/xml');\r\n            const items = xmlData.getElementsByTagName('item');\r\n            const extractedData = Array.from(items).map(item => ({\r\n                title: item.getElementsByTagName('title')[0].textContent,\r\n                addr1: item.getElementsByTagName('addr1')[0].textContent,\r\n                contenttypeid: item.getElementsByTagName('contenttypeid')[0].textContent,\r\n                firstimage2: item.getElementsByTagName('firstimage2')[0]?.textContent || ''\r\n            }));\r\n            setData(prevData => [...prevData, ...extractedData]); // 새로운 데이터를 기존 데이터에 추가\r\n        } catch (error) {\r\n            console.error('Error fetching data:', error);\r\n        } finally {\r\n            setLoading(false); // 로딩 상태 종료\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchInitialData(); // 초기 로딩 시 데이터 가져오기\r\n    }, [areaCode]);\r\n\r\n    useEffect(() => {\r\n        if (page > 1) {\r\n            fetchMoreData(page); // 페이지가 변경될 때만 더 많은 데이터를 가져옴\r\n        }\r\n    }, [page]);\r\n\r\n    const loadMore = () => {\r\n        setPage(prevPage => prevPage + 1); // 페이지 번호 증가\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <RecommendedPlaces data={data} />\r\n            {/*<div className=\"load-more-container\">\r\n                <button onClick={loadMore} disabled={loading}>\r\n                    {loading ? '로딩 중...' : '더보기'}\r\n                </button>\r\n            </div>*/}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DummyListHotel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}