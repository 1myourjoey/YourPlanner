{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Documents\\\\GitHub\\\\YourPlanner\\\\src\\\\main\\\\frontend\\\\src\\\\components\\\\js\\\\MyPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport MyPlan from './MyPlan';\nimport Header from './Header';\nimport Chat from './Chat';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MyPage() {\n  _s();\n  const [plans, setPlans] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchPlanData = async () => {\n      try {\n        const response = await axios.get('/api/users/saves');\n        const formattedPlans = response.data.map(plan => ({\n          ...plan,\n          firstDate: plan.firstDate.slice(0, 10),\n          endDate: plan.endDate.slice(0, 10)\n        }));\n        setPlans(formattedPlans);\n      } catch (error) {\n        console.error('Error fetching plan data:', error);\n      }\n    };\n    fetchPlanData();\n  }, [plans]);\n  const handleShowDetails = plan => {\n    navigate('/MyPlanDetail', {\n      state: {\n        plan\n      }\n    });\n  };\n  const handleDeletePlan = async saveNo => {\n    try {\n      await axios.delete(`/api/users/${saveNo}/delete`);\n      // 삭제 후 해당 계획을 상태에서 제거하여 UI를 업데이트합니다.\n      setPlans(plans.filter(plan => plan.saveNO !== saveNo));\n    } catch (error) {\n      console.error('계획 삭제 중 오류 발생:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"myplan-container\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(MyPlan, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"PlanList\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uB098\\uC758 \\uACC4\\uD68D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), plans.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row d-flex justify-content-center\",\n      children: plans.map((plan, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-3 mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-title\",\n              children: plan.saveTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uC5EC\\uD589 \\uC2DC\\uC791 \\uB0A0\\uC9DC:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 21\n              }, this), \" \", plan.firstDate, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 64\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uC5EC\\uD589 \\uC885\\uB8CC \\uB0A0\\uC9DC:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 21\n              }, this), \" \", plan.endDate, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 62\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uCD9C\\uBC1C\\uC9C0:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 21\n              }, this), \" \", plan.firstPlace, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 60\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uB3C4\\uCC29\\uC9C0:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 21\n              }, this), \" \", plan.endPlace]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"custom-button\",\n              onClick: () => handleShowDetails(plan),\n              children: \"\\uC0C1\\uC138 \\uBCF4\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-danger ml-2\",\n              onClick: () => handleDeletePlan(plan.saveNo),\n              children: \"\\uC0AD\\uC81C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\uC5EC\\uD589 \\uACC4\\uD68D\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(MyPage, \"zbmUlVdiB0xBo8328TpZWwMRJ5s=\", false, function () {\n  return [useNavigate];\n});\n_c = MyPage;\nexport default MyPage;\nvar _c;\n$RefreshReg$(_c, \"MyPage\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Link","axios","MyPlan","Header","Chat","jsxDEV","_jsxDEV","MyPage","_s","plans","setPlans","navigate","fetchPlanData","response","get","formattedPlans","data","map","plan","firstDate","slice","endDate","error","console","handleShowDetails","state","handleDeletePlan","saveNo","delete","filter","saveNO","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","index","saveTitle","firstPlace","endPlace","onClick","_c","$RefreshReg$"],"sources":["C:/Users/admin/Documents/GitHub/YourPlanner/src/main/frontend/src/components/js/MyPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport MyPlan from './MyPlan';\r\nimport Header from './Header';\r\nimport Chat from './Chat';\r\n\r\nfunction MyPage() {\r\n  const [plans, setPlans] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchPlanData = async () => {\r\n      try {\r\n        const response = await axios.get('/api/users/saves');\r\n        const formattedPlans = response.data.map(plan => ({\r\n          ...plan,\r\n          firstDate: plan.firstDate.slice(0, 10),\r\n          endDate: plan.endDate.slice(0, 10)\r\n        }));\r\n        setPlans(formattedPlans);\r\n      } catch (error) {\r\n        console.error('Error fetching plan data:', error);\r\n      }\r\n    };\r\n\r\n    fetchPlanData();\r\n  }, [plans]);\r\n\r\n  const handleShowDetails = (plan) => {\r\n    navigate('/MyPlanDetail', { state: { plan } });\r\n  };\r\n\r\n  const handleDeletePlan = async (saveNo) => {\r\n    try {\r\n      await axios.delete(`/api/users/${saveNo}/delete`);\r\n      // 삭제 후 해당 계획을 상태에서 제거하여 UI를 업데이트합니다.\r\n      setPlans(plans.filter(plan => plan.saveNO !== saveNo));\r\n    } catch (error) {\r\n      console.error('계획 삭제 중 오류 발생:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"myplan-container\">\r\n        <Header />\r\n     <MyPlan />\r\n\r\n      <div className=\"PlanList\" >\r\n      <p >나의 계획</p>\r\n      </div>\r\n      {plans.length > 0 ? (\r\n        <div className=\"row d-flex justify-content-center\">\r\n          {plans.map((plan, index) => (\r\n            <div key={index} className=\"col-lg-3 mb-6\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <h5 className=\"card-title\">{plan.saveTitle}</h5>\r\n                  <p className=\"card-text\">\r\n                    <strong>여행 시작 날짜:</strong> {plan.firstDate}<br />\r\n                    <strong>여행 종료 날짜:</strong> {plan.endDate}<br />\r\n                    <strong>출발지:</strong> {plan.firstPlace}<br />\r\n                    <strong>도착지:</strong> {plan.endPlace}\r\n                  </p>\r\n                  <button className=\"custom-button\" onClick={() => handleShowDetails(plan)}>상세 보기</button>\r\n                  <button className=\"btn btn-danger ml-2\" onClick={() => handleDeletePlan(plan.saveNo)}>삭제</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <p>여행 계획이 없습니다.</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}